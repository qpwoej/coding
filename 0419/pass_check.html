<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>암호체크예제</title>


    <style>
        .true {
            color: blue;
            font-weight: bold;
        }

        .false {
            color: red;
            font-weight: bold;
        }
    </style>

    <!--  <script>
        window.onload = function () {
            var pass1 = document.getElementById("pass1");
            var pass2 = document.getElementById("pass2");
            var result = document.getElementById("result");
            //pass1에 입력된 내용 8자리~16자리까지만 허용 <--onkeyup
            //글자수가 개수 범위에 벗어나면  
            //result에 암호는 8자리에서 16자리를 입력해야합니다 <--메세지 출력
            pass1.onkeyup = function (e) {
                if(pass1.value.lengh < 8 || pass1.value.lengh > 16){
                    result.innerHTML = "아이디는 8자리~16자리를 입력해야합니다";
                }else{
                    result.innerHTML = "암호는 8자리~16자리를 입력해야합니다";
                }
                //pass1이 숫자가 되어있는 체크
                var pattern = /[0-9]/;
                var res = pattern.test(pass1.value); 
                

                if(res)
                result.innerHTML = "암호에 숫자가 들어가 있습니다";
                else
                result.innerHTML = "암호에 숫자를 넣으세요";
                //pass1이 특수문자가 들어가 있는지 체크
                //\[  [인식
                pattern = /[!@#$%^&*()_\+\=\-\[\]\"\']/;
                res = pattern.test(pass1.value);
                console.log(res);
                //알파벳 대소문자 입력했는지 체크 
                pattern = /[a-za-Z]/;
                res = pattern.test(pass1.value);
                console.log("알파벳체크 : "+res);
            }
        }
    

    </script> -->
    <script>
        //pass1에 입력된 내용이 8자리~16자리까지만 허용 <-- onkeyup
        // 글자수가 개수 범위에 벗어나면
        //result에 암호는 8자리~16자리를 입력해야 합니다. <-- 메세지 출력
        window.onload = function () {
            var pass1 = document.getElementById("pass1");
            var pass2 = document.getElementById("pass2");
            var result = document.getElementById("result");

            pass1.onkeyup = function (e) {
                if (pass1.value.length < 8 || pass1.value.length > 16) {
                    result.innerHTML = "암호는 8자리~16자리를 입력해야 합니다.";
                    result.className = "false";
                    return;
                }
                //pass1이 숫자가 들어가 있는지 체크
                var pattern = /[0-9]/;
                var res = pattern.test(pass1.value);

                if (!res) {
                    result.innerHTML = "암호에 숫자를 입력하세요.";
                    result.className = "flase";
                    return false;
                }
                //pass1이 특수문자가 들어가 있는지 체크
                //                      \[ --> [ 인식
                pattern = /[!@#$%^&*()_\+\=\-\[\]\"\']/
                res = pattern.test(pass1.value);
                console.log("특수문자 체크 : " + res);
                if (!res) {
                    result.innerHTML = "암호에 특수문자를 입력하세요.";
                    result.className = "false";
                    return false;
                }
                //알파벳 입력 했는지 체크
                pattern = /[a-zA-Z]/
                res = pattern.test(pass1.value);
                console.log("알파벳 체크 : " + res);
                if (!res) {
                    result.innerHTML = "암호에 알파벳을 입력하세요.";
                    result.className = "false";
                    return false;
                }
                //공백 또는 탭, 줄바꿈 태그
                pattern = /[\s]/
                if (pattern.test(pass1.value)) {
                    result.innerHTML = "암호에 공백을 입력하면 안됩니다.";
                    result.className = "false";
                }

                if(pass1.value !=pass2.value){
                    result.innerHTML = "입력한 두 암호가 다릅니다";
                    result.className = "false";
                    return;
                }
                result.innerHTML = "암호의 형식에 맞고 두 암호가 일치합니다";
                result.className = "true"

                pass2.onkeyup =  pass1.onkeyup; //pass1 keyup 함수이벤트를 pass2에 붙여넣는다


            }//pass1.onkeyup
        }//window onload


    </script>


</head>

<body>
    <input type="password" id="pass1"> <br>
    <input type="password" id="pass2"> <br>
    <div id="result"></div>
</body>

</html>